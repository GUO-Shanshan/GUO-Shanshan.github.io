<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mood Processor</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&display=swap" rel="stylesheet">
        <style>
            body {
                font-family:'Courier New', Courier, monospace;
                height: 100vh;
            }

            h1 {
                text-align: center;
                font-size: 300%
            }

            .container {
                text-align: left;
            }
            button {
                background-color: #FFFFFF;
                border: 1px solid #222222;
                border-radius: 8px;
                box-sizing: border-box;
                color: #222222;
                cursor: pointer;
                display: inline-block;
                font-size: 16px;
                font-weight: 600;
                line-height: 20px;
                margin: 0;
                padding: 13px 23px;
                position: relative;
                text-align: center;
                text-decoration: none;
                width: auto;
            }
            footer {
                position: relative;
                bottom: 0%;
                text-align: center;
            } 
            .gowun-batang-regular {
                font-family: "Gowun Batang", serif;
                font-weight: 400;
                font-style: normal;
            }
            .gowun-batang-bold {
                font-family: "Gowun Batang", serif;
                font-weight: 700;
                font-style: normal;
            }
        </style>
    </head>
    <body class="gowun-batang-regular">
        <h1>Mood Processor</h1>
        <main class="container">
            <p><button id="getTimeButton" class="gowun-batang-bold">Now the time is</button> <span id="timeDisplay"> </span></p>
            <p><button id="getLocationButton" class="gowun-batang-bold">You're in</button> <span id="locationDisplay"> </span></p>
            <p><button id="getWeatherButton" class="gowun-batang-bold">The current weather is</button> <span id="weatherDisplay"> </span></p>
            <h2>Here are some interesting things you can try:</h2>
            <form>
                <label><input type="checkbox" name="task"> Walk a kilometer to buy coffee.</label><br>
                <label><input type="checkbox" name="task"> Take a new route home from work.</label><br>
                <label><input type="checkbox" name="task"> Go to the market to buy fresh fruits and vegetables.</label><br>
                <label><input type="checkbox" name="task"> Exercise.</label><br>
                <label><input type="checkbox" name="task"> Listen to songs you loved at 18.</label><br>
                <label><input type="checkbox" name="task"> Spend 20 minutes in the park.</label><br>
                <label><input type="checkbox" name="task"> Imagine winning ten million in the lottery.</label><br>
                <label><input type="checkbox" name="task"> Hug a close friend or pet for a long time.</label><br>
                <label><input type="checkbox" name="task"> Randomly get on a bus.</label><br>
                <label><input type="checkbox" name="task"> Write a poem or short essay to express your emotions.</label><br>
                <label><input type="checkbox" name="task"> Watch two or three movies in a row at the cinema.</label><br>
                <label><input type="checkbox" name="task"> Plan a trip.</label><br>
                <label><input type="checkbox" name="task"> Read at the library and make neat and beautiful notes.</label><br>
                <label><input type="checkbox" name="task"> Run on the grass.</label><br>
                <label><input type="checkbox" name="task"> Walk on the sidewalk with headphones on, playing film or TV OSTs.</label><br>
                <label><input type="checkbox" name="task"> Sleep and have strange dreams.</label><br>
                <label><input type="checkbox" name="task"> Go to a concert.</label><br>
                <label><input type="checkbox" name="task"> Mini escape: visit a stranger’s street or stay at a hotel in a neighboring city to disconnect from familiar surroundings.</label><br>
                <label><input type="checkbox" name="task"> Go to a large supermarket and limit yourself to buying just one item, allowing for careful selection.</label><br>
                <label><input type="checkbox" name="task"> Visit a food street near the university.</label><br>
                <label><input type="checkbox" name="task"> Compliment others.</label><br>
                <label><input type="checkbox" name="task"> Take a bath.</label><br>
                <label><input type="checkbox" name="task"> Sleep deeply.</label><br>
                <label><input type="checkbox" name="task"> Imagine you are an alien observing humans.</label><br>
                <label><input type="checkbox" name="task"> Volunteer.</label><br>
                <label><input type="checkbox" name="task"> Look through your previous social media posts.</label><br>
                <label><input type="checkbox" name="task"> Wear an outfit you wouldn’t normally wear.</label><br>
                <label><input type="checkbox" name="task"> Visit an exhibition.</label><br>
                <label><input type="checkbox" name="task"> Recall the name of a movie or the second half of a poem without using your phone—just rely on memory.</label><br>
                <label><input type="checkbox" name="task"> Try food combinations you’ve never eaten before.</label><br>
                <label><input type="checkbox" name="task"> Read children’s picture books; they contain the cutest stories in the world.</label><br>
                <label><input type="checkbox" name="task"> Wear nicer socks and shoes, as this can help relieve fatigue.</label><br>
                <label><input type="checkbox" name="task"> Find something you love—anime, idols, pets, games, etc.—and immerse yourself in it completely.</label><br>
                <label><input type="checkbox" name="task"> Go shopping with friends and guess the prices of items.</label><br>
                <label><input type="checkbox" name="task"> Turn ordinary days into anniversaries; for example, if you want to eat cake today, then today is Cake Anniversary Day. Every day can be an anniversary!</label><br><br>
            </form>
        </main>
        <script>
            // After click button, the current time comes out thru function and updates every second 
            document.getElementById('getTimeButton').addEventListener('click', function() {
                function updateTime() {
                    const currentTime = new Date().toLocaleTimeString();
                    document.getElementById('timeDisplay').textContent = 'Current Time: ' + currentTime;
                }
                updateTime();
                setInterval(updateTime, 1000);
            });

            // Here I use TimeZone to ensure where the user is, the method inspired from this forum: https://stackoverflow.com/questions/3489460/how-to-get-visitors-location-i-e-country-using-geolocation
            document.getElementById('getLocationButton').addEventListener('click',function() {
                const timeZoneToCountry = {
                    "America/New_York": "United States",
                    "America/Los_Angeles": "United States",
                    "Europe/London": "United Kingdom",
                    "Asia/Tokyo": "Japan",
                    "America/Chicago": "United States",
                    "America/Denver": "United States",
                    "America/Phoenix": "United States",
                    "America/Anchorage": "United States",
                    "America/Halifax": "Canada",
                    "America/Vancouver": "Canada",
                    "America/Toronto": "Canada",
                    "America/Mexico_City": "Mexico",
                    "America/Sao_Paulo": "Brazil",
                    "America/Buenos_Aires": "Argentina",
                    "America/Lima": "Peru",
                    "America/Santiago": "Chile",
                    "Europe/Paris": "France",
                    "Europe/Berlin": "Germany",
                    "Europe/Madrid": "Spain",
                    "Europe/Rome": "Italy",
                    "Europe/Athens": "Greece",
                    "Europe/Moscow": "Russia",
                    "Europe/Istanbul": "Turkey",
                    "Europe/Stockholm": "Sweden",
                    "Europe/Oslo": "Norway",
                    "Europe/Amsterdam": "Netherlands",
                    "Europe/Zurich": "Switzerland",
                    "Europe/Warsaw": "Poland",
                    "Europe/Dublin": "Ireland",
                    "Asia/Shanghai": "China",
                    "Asia/Seoul": "South Korea",
                    "Asia/Bangkok": "Thailand",
                    "Asia/Singapore": "Singapore",
                    "Asia/Hong_Kong": "China",
                    "Asia/Kolkata": "India",
                    "Asia/Jakarta": "Indonesia",
                    "Asia/Dubai": "United Arab Emirates",
                    "Asia/Manila": "Philippines",
                    "Asia/Kuala_Lumpur": "Malaysia",
                    "Asia/Riyadh": "Saudi Arabia",
                    "Asia/Tehran": "Iran",
                    "Asia/Karachi": "Pakistan",
                    "Asia/Baghdad": "Iraq",
                    "Asia/Damascus": "Syria",
                    "Asia/Beirut": "Lebanon",
                    "Australia/Sydney": "Australia",
                    "Australia/Melbourne": "Australia",
                    "Australia/Brisbane": "Australia",
                    "Australia/Perth": "Australia",
                    "Pacific/Auckland": "New Zealand",
                    "Pacific/Honolulu": "United States",
                    "Pacific/Fiji": "Fiji",
                    "Pacific/Tahiti": "French Polynesia",
                    "Africa/Cairo": "Egypt",
                    "Africa/Johannesburg": "South Africa",
                    "Africa/Lagos": "Nigeria",
                    "Africa/Nairobi": "Kenya",
                    "Africa/Casablanca": "Morocco",
                    "Africa/Accra": "Ghana"
                };
                const timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                function getCountryFromTimeZone(timeZone) {
                    if (timeZoneToCountry[timeZone]) {
                        const country = timeZoneToCountry[timeZone];
                        document.getElementById('locationDisplay').innerText = `${country}`;
                    } else {
                        document.getElementById('locationDisplay').innerText = 'Unknown Country';
                    }
                }
                getCountryFromTimeZone(timeZone); // Call the getCountryFromTimeZone() function and pass timeZone as an argument.
            })
            
            // Function to get weather data from an free external API but I can only get Chapel Hill weather
            
            /*document.getElementById('getWeatherButton').addEventListener('click', function() {
                fetch("https://api.open-meteo.com/v1/forecast?latitude=35.9132&longitude=-79.0558&current_weather=true")
                .then(response => response.json())
                .then(data => {
                    const currentTemp = data.current_weather.temperature;
                    document.getElementById("weatherDisplay").innerHTML = `Current Temperature: ${currentTemp}°C`;
                })
            .catch(error => console.error("Unable to retrieve weather data."));
            })*/
           document.getElementById('getWeatherButton').addEventListener('click',function() {
            window.open('https://www.google.com/search?q=what%27s+the+weather+for+today&rlz=1C5CHFA_enAU1080AU1080&oq=what%27s+the+weather+for+today&gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBBzI0NWowajeoAgCwAgA&sourceid=chrome&ie=UTF-8', '_blank');
           })
        </script>
    </body>
    <footer>
        <small>Made by Shanshan Guo © 2024 Mood Processor. All rights reserved.</small>
    </footer>
</html>